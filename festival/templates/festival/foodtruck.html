{% extends './festival_base.html' %} {% load staticfiles %}

{% block festival-head %}
<link rel="stylesheet" href="{% static 'festival/css/foodtruck.css' %}?v={{ ASSETS_VERSION }}">
{% endblock %}

{% block festival-content %}
<div class="page-desc-box">
	터치 하면 상세정보가 나와요!
</div>

<div class="bf-map-container">
	<div class="bf-map">
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth1" data-ft-idx="1"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">아트 앤 디자인 쇼</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth2" data-ft-idx="2"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">MilCOO</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth3" data-ft-idx="11"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">총학</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth4" data-ft-idx="8"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">다전공 제도 상담</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth5" data-ft-idx="5"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">나를 꺼내줘</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth6" data-ft-idx="3"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">러너스 하이</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth7" data-ft-idx="7"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">PATIA ACC</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth8" data-ft-idx=""><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">FAB5</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth9" data-ft-idx="9"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">쉠방구</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth10" data-ft-idx="6"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">나를 꺼내줘<br>(바울관 207호)</p></i></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth11" data-ft-idx="4"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">FAB5배 3on3 대회</p></div></div>
		<div data-bt-type='booth' data-bt-index onclick="__foodtruck.open(this , false)" class="bf-icon bo booth12" data-ft-idx="10"><div class="ft-info-wrapper"><p class="booth"></p><p class="boothtitle">코스트코</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck1" data-ft-idx="7"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">야먹자</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck2" data-ft-idx="8"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">마누스</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck3" data-ft-idx="5"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">불꽃튀김</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck4" data-ft-idx="1"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">k이지 스테이크</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck5" data-ft-idx="2"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">에이셉 피자</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck6" data-ft-idx="6"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">카페소풍</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck7" data-ft-idx="9"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">해솔푸드</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck8" data-ft-idx="10"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">원식당</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck9" data-ft-idx="3"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">베러댄 와플</p></div></div>
		<div data-bt-type='food' data-bt-index onclick="__foodtruck.open(this , true)" class="bf-icon fo truck10" data-ft-idx="4"><div class="ft-info-wrapper"><p class="foodtruck"></p><p class="foodtrucktitle">마이츄</p></div></div>
	</div>
</div>
{% endblock %}

{% block festival-endbody %}
<script>
	$(document).ready(()=>{
		$('.bf-map-container').scrollLeft(($('.bf-map').width() / 3));
		__foodtruck.init();
	});
	var __foodtruck = {
		open : (obj , isFoodTruck) => {
			var __obj = $(obj);
			var __num = Number(__obj.attr('data-ft-idx'));
			
			if(isFoodTruck){
				__likelion.popup.open(
					'/api/popup/fest/foodtruck/' + __num
				)
			}
			else{
				__likelion.popup.open(
					'/api/popup/fest/booth/' + __num
				)
			}
		},
		init : ()=>{
			if(__likelion.qs && __likelion.qs.len > 0){
				if(__likelion.qs.get('type') === 'booth'){
					let __id = __likelion.qs.get('id');
					$('[data-bt-type=booth][data-ft-idx='+ __id +']').click();
				}
				else if(__likelion.qs.get('type') === 'food'){
					let __id = __likelion.qs.get('id');
					$('[data-bt-type=food][data-ft-idx='+ __id +']').click();
				}
			}
		}
	}
</script>
{% endblock %}










