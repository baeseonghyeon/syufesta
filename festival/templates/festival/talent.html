{% extends './festival_base.html' %} {% load staticfiles %}

{% block festival-head %}
<link rel="stylesheet" href="{% static 'festival/css/talent_select.css' %}">
{% endblock %}

{% block festival-content %}
<!-- <div class="container"> -->
    <div class="row mb-4 title-container">
        <div class = "col-12">
            <h1>너의 청춘을 보여줘</h1>
            <h2 class = title2>장기자랑 참가자를 투표하세요!</h2>
            <p class = date1>
            	투표기간 : 10월 7일 PM 04:00 ~ PM 06:30 종료까지
            </p>
        </div>
    </div>
    <div class = "container talent">
    <div class ="row talent">

		{% for C_P in cp %}
			<div class = "col-6 talent-item mb-3" onclick="__talent.select(this)">
				<div class="img-circle" style="background-image: url('{{ C_P.cont_participant_img_url }}');">
					<div class="talent-cover"></div>
					<div class= "thumbs">
						<i class="far fa-thumbs-up" aria-hidden="true"></i>
					</div>
				</div>
				<p class = "title2">{{ C_P.cont_participant_nm }}</p>
				<p class = "desc">{{ C_P.cont_participant_des }}</p>
			</div>
		{% endfor %}
    <div class="row">
        <div class="col-12 talent">
            <a href="{% url 'talent' %}""><button class = 'fest-btn' value = 'submit'>투표하기</button></a>
        </div>
    </div>
<!-- </div> -->

{% endblock %}

{% block festival-endbody %}
<script>
    var __talent = {
        select : function(elem){
            let item = $(elem);
            let selected = $('.talent-item.active');
            if(selected.length > 0){
                for(var i = 0 ; i < selected.length; i++){
                    selected.eq(i).removeClass('active');
                }
            }
            
            if(!item.hasClass('active')){
                item.addClass('active');
            }
        }
    }
</script>
{% endblock %}